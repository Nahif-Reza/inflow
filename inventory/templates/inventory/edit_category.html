{% extends 'base.html' %}
{% block content %}
<div class="min-h-screen bg-gray-900 flex items-center justify-center py-12 px-6 text-white">
  <div class="max-w-md w-full bg-gray-800 rounded-2xl p-8 shadow-xl border border-gray-700">
    <h2 class="text-2xl font-bold mb-6 text-center">Edit Category: "{{ category.name }}"</h2>

    <form method="POST" enctype="multipart/form-data" class="space-y-6">
      {% csrf_token %}
      {{ form.name.label_tag }}
      {{ form.name }}

      {% if category.image %}
      <div class="mb-4">
        <label class="block mb-1">Current Image:</label>
        <img src="{{ category.image.url }}" alt="{{ category.name }}" class="w-32 h-32 object-cover rounded-md border border-gray-600">
      </div>
      {% endif %}

      {{ form.image.label_tag }}
      {{ form.image }}

      <button type="submit"
        class="w-full py-2 bg-indigo-600 hover:bg-indigo-700 rounded-lg font-semibold transition">
        Save Changes
      </button>
    </form>

    <div class="mt-4 text-center">
      <a href="{% url 'view_categories' %}" class="text-gray-400 hover:text-gray-200 underline">
        Cancel
      </a>
    </div>
  </div>
        <script>
  if (performance.getEntriesByType("navigation")[0]?.type === "back_forward") {
    window.location.href = "{% url 'view_categories' %}";
  }
</script>
</div>
{% endblock %}
